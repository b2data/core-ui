import{r as l,h as X,j as S,u as Ee,C as He,c as de,a as Y,B as Te}from"./iframe-BjsjcTCH.js";import{f as We}from"./formControlState-Dq1zat_P.js";import{u as Le,F as Me}from"./useFormControl-DV89jgTs.js";import{m as ge}from"./memoTheme-BkiB6XT-.js";import{g as Oe}from"./generateUtilityClasses-DDbjFgb8.js";import{g as Ne}from"./generateUtilityClass-BtcU_pBl.js";import{u as ye}from"./useForkRef-CFOv3ZhY.js";import{o as ce}from"./ownerWindow-HkKU3E4x.js";import{u as Pe}from"./useEventCallback-Cx1VukeI.js";import{d as je}from"./debounce-Be36O1Ab.js";import{s as xe,c as $e}from"./styled-B_VYI8z9.js";import{i as pe}from"./isHostComponent-DVu5iVWx.js";function P(e){return parseInt(e,10)||0}const De={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Ve(e){for(const t in e)return!1;return!0}function fe(e){return Ve(e)||e.outerHeightStyle===0&&!e.overflowing}const Ue=l.forwardRef(function(t,o){const{onChange:d,maxRows:f,minRows:c=1,style:R,value:z,...W}=t,{current:v}=l.useRef(z!=null),m=l.useRef(null),A=ye(o,m),p=l.useRef(null),C=l.useRef(null),g=l.useCallback(()=>{const r=m.current,n=C.current;if(!r||!n)return;const s=ce(r).getComputedStyle(r);if(s.width==="0px")return{outerHeightStyle:0,overflowing:!1};n.style.width=s.width,n.value=r.value||t.placeholder||"x",n.value.slice(-1)===`
`&&(n.value+=" ");const E=s.boxSizing,L=P(s.paddingBottom)+P(s.paddingTop),$=P(s.borderBottomWidth)+P(s.borderTopWidth),x=n.scrollHeight;n.value="x";const I=n.scrollHeight;let h=x;c&&(h=Math.max(Number(c)*I,h)),f&&(h=Math.min(Number(f)*I,h)),h=Math.max(h,I);const M=h+(E==="border-box"?L+$:0),D=Math.abs(h-x)<=1;return{outerHeightStyle:M,overflowing:D}},[f,c,t.placeholder]),B=Pe(()=>{const r=m.current,n=g();if(!r||!n||fe(n))return!1;const u=n.outerHeightStyle;return p.current!=null&&p.current!==u}),w=l.useCallback(()=>{const r=m.current,n=g();if(!r||!n||fe(n))return;const u=n.outerHeightStyle;p.current!==u&&(p.current=u,r.style.height=`${u}px`),r.style.overflow=n.overflowing?"hidden":""},[g]),F=l.useRef(-1);X(()=>{const r=je(w),n=m?.current;if(!n)return;const u=ce(n);u.addEventListener("resize",r);let s;return typeof ResizeObserver<"u"&&(s=new ResizeObserver(()=>{B()&&(s.unobserve(n),cancelAnimationFrame(F.current),w(),F.current=requestAnimationFrame(()=>{s.observe(n)}))}),s.observe(n)),()=>{r.clear(),cancelAnimationFrame(F.current),u.removeEventListener("resize",r),s&&s.disconnect()}},[g,w,B]),X(()=>{w()});const j=r=>{v||w();const n=r.target,u=n.value.length,s=n.value.endsWith(`
`),E=n.selectionStart===u;s&&E&&n.setSelectionRange(u,u),d&&d(r)};return S.jsxs(l.Fragment,{children:[S.jsx("textarea",{value:z,onChange:j,ref:A,rows:c,style:R,...W}),S.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:C,tabIndex:-1,style:{...De.shadow,...R,paddingTop:0,paddingBottom:0}})]})});function me(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function qe(e,t=!1){return e&&(me(e.value)&&e.value!==""||t&&me(e.defaultValue)&&e.defaultValue!=="")}function ct(e){return e.startAdornment}function Ge(e){return Ne("MuiInputBase",e)}const ee=Oe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var he;const Ke=(e,t)=>{const{ownerState:o}=e;return[t.root,o.formControl&&t.formControl,o.startAdornment&&t.adornedStart,o.endAdornment&&t.adornedEnd,o.error&&t.error,o.size==="small"&&t.sizeSmall,o.multiline&&t.multiline,o.color&&t[`color${Y(o.color)}`],o.fullWidth&&t.fullWidth,o.hiddenLabel&&t.hiddenLabel]},_e=(e,t)=>{const{ownerState:o}=e;return[t.input,o.size==="small"&&t.inputSizeSmall,o.multiline&&t.inputMultiline,o.type==="search"&&t.inputTypeSearch,o.startAdornment&&t.inputAdornedStart,o.endAdornment&&t.inputAdornedEnd,o.hiddenLabel&&t.inputHiddenLabel]},Ze=e=>{const{classes:t,color:o,disabled:d,error:f,endAdornment:c,focused:R,formControl:z,fullWidth:W,hiddenLabel:v,multiline:m,readOnly:A,size:p,startAdornment:C,type:g}=e,B={root:["root",`color${Y(o)}`,d&&"disabled",f&&"error",W&&"fullWidth",R&&"focused",z&&"formControl",p&&p!=="medium"&&`size${Y(p)}`,m&&"multiline",C&&"adornedStart",c&&"adornedEnd",v&&"hiddenLabel",A&&"readOnly"],input:["input",d&&"disabled",g==="search"&&"inputTypeSearch",m&&"inputMultiline",p==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",C&&"inputAdornedStart",c&&"inputAdornedEnd",A&&"readOnly"]};return $e(B,Ge,t)},Je=xe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ke})(ge(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ee.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:o})=>t.multiline&&o==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Qe=xe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:_e})(ge(({theme:e})=>{const t=e.palette.mode==="light",o={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},d={opacity:"0 !important"},f=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ee.formControl} &`]:{"&::-webkit-input-placeholder":d,"&::-moz-placeholder":d,"&::-ms-input-placeholder":d,"&:focus::-webkit-input-placeholder":f,"&:focus::-moz-placeholder":f,"&:focus::-ms-input-placeholder":f},[`&.${ee.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:c})=>!c.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:c})=>c.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),be=He({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),pt=l.forwardRef(function(t,o){const d=Ee({props:t,name:"MuiInputBase"}),{"aria-describedby":f,autoComplete:c,autoFocus:R,className:z,color:W,components:v={},componentsProps:m={},defaultValue:A,disabled:p,disableInjectingGlobalStyles:C,endAdornment:g,error:B,fullWidth:w=!1,id:F,inputComponent:j="input",inputProps:r={},inputRef:n,margin:u,maxRows:s,minRows:E,multiline:L=!1,name:$,onBlur:x,onChange:I,onClick:h,onFocus:M,onKeyDown:D,onKeyUp:Se,placeholder:ve,readOnly:V,renderSuffix:te,rows:O,size:Xe,slotProps:ne={},slots:oe={},startAdornment:H,type:re="text",value:Ce,...we}=d,N=r.value!=null?r.value:Ce,{current:U}=l.useRef(N!=null),k=l.useRef(),Re=l.useCallback(a=>{},[]),ze=ye(k,n,r.ref,Re),[q,G]=l.useState(!1),i=Le(),b=We({props:d,muiFormControl:i,states:["color","disabled","error","hiddenLabel","size","required","filled"]});b.focused=i?i.focused:q,l.useEffect(()=>{!i&&p&&q&&(G(!1),x&&x())},[i,p,q,x]);const K=i&&i.onFilled,_=i&&i.onEmpty,T=l.useCallback(a=>{qe(a)?K&&K():_&&_()},[K,_]);X(()=>{U&&T({value:N})},[N,T,U]);const Ae=a=>{M&&M(a),r.onFocus&&r.onFocus(a),i&&i.onFocus?i.onFocus(a):G(!0)},Ie=a=>{x&&x(a),r.onBlur&&r.onBlur(a),i&&i.onBlur?i.onBlur(a):G(!1)},ke=(a,...se)=>{if(!U){const ue=a.target||k.current;if(ue==null)throw new Error(Te(1));T({value:ue.value})}r.onChange&&r.onChange(a,...se),I&&I(a,...se)};l.useEffect(()=>{T(k.current)},[]);const Be=a=>{k.current&&a.currentTarget===a.target&&k.current.focus(),h&&h(a)};let Z=j,y=r;L&&Z==="input"&&(O?y={type:void 0,minRows:O,maxRows:O,...y}:y={type:void 0,maxRows:s,minRows:E,...y},Z=Ue);const Fe=a=>{T(a.animationName==="mui-auto-fill-cancel"?k.current:{value:"x"})};l.useEffect(()=>{i&&i.setAdornedStart(!!H)},[i,H]);const J={...d,color:b.color||"primary",disabled:b.disabled,endAdornment:g,error:b.error,focused:b.focused,formControl:i,fullWidth:w,hiddenLabel:b.hiddenLabel,multiline:L,size:b.size,startAdornment:H,type:re},ae=Ze(J),ie=oe.root||v.Root||Je,Q=ne.root||m.root||{},le=oe.input||v.Input||Qe;return y={...y,...ne.input??m.input},S.jsxs(l.Fragment,{children:[!C&&typeof be=="function"&&(he||(he=S.jsx(be,{}))),S.jsxs(ie,{...Q,ref:o,onClick:Be,...we,...!pe(ie)&&{ownerState:{...J,...Q.ownerState}},className:de(ae.root,Q.className,z,V&&"MuiInputBase-readOnly"),children:[H,S.jsx(Me.Provider,{value:null,children:S.jsx(le,{"aria-invalid":b.error,"aria-describedby":f,autoComplete:c,autoFocus:R,defaultValue:A,disabled:b.disabled,id:F,onAnimationStart:Fe,name:$,placeholder:ve,readOnly:V,required:b.required,rows:O,value:N,onKeyDown:D,onKeyUp:Se,type:re,...y,...!pe(le)&&{as:Z,ownerState:{...J,...y.ownerState}},ref:ze,className:de(ae.input,y.className,V&&"MuiInputBase-readOnly"),onBlur:Ie,onChange:ke,onFocus:Ae})}),g,te?te({...b,startAdornment:H}):null]})]})});export{pt as I,Je as a,Qe as b,_e as c,ct as d,qe as e,ee as i,Ke as r};
