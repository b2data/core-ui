import{R as M,r as n,j as r}from"./iframe-BjsjcTCH.js";import{F}from"./FormHelperText-B6A-eWRO.js";import{D as R}from"./DataBlock-DiZEvLtI.js";import{B as s}from"./Box-DHB9hgUt.js";const x=M.forwardRef(({label:d,readOnly:g,disabled:a,error:o,placeholder:u,required:y,defaultValue:t,value:l,margin:w="none",minRows:v=1,helperText:p,sx:q,onBlur:m,onChange:V,mdProps:C},k)=>{const[f,c]=n.useState(!1),[T,i]=n.useState(t),[S,h]=n.useState(t),b=n.useRef(null);n.useEffect(()=>{l!==void 0&&(i(l),h(l))},[l]),n.useEffect(()=>{t!==void 0&&(i(t),h(t))},[t]);const B=e=>{i(e),V?.(e)};return r.jsxs(s,{ref:k,onClick:()=>b?.current?.focus?.(),sx:{display:"inline-flex",flexDirection:"column",position:"relative",width:1,padding:0,margin:w==="normal"?"8px 0 16px":0,border:0,verticalAlign:"top",...q},children:[r.jsxs(s,{component:"label",sx:e=>({...e.typography.body1,color:"#6B778C",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",position:"absolute",left:0,top:0,mt:-2,transform:"translate(0, 16px) scale(1)",transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms, transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms, max-width 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",...T||u||f?{transform:"translate(0, -1.5px) scale(0.75)"}:{},...f?{color:e.palette.primary.main}:{},...a?{color:e.palette.text.disabled}:{},...o?{color:e.palette.error.main}:{}}),children:[d,y&&r.jsx(s,{component:"span",color:"error.main",children:" *"})]}),r.jsx(R,{ref:b,content:S,editable:!a,readOnly:g,onBlur:e=>{m&&m(e),c(!1)},onFocus:()=>c(!0),placeholderText:u,onChange:B,onChangeDebounce:100,mdProps:{slashCommands:["bold","italic","underline","strikethrough","highlight"],...C},sx:e=>({position:"relative","& > div":{fontSize:"14px",padding:"5px 0",outline:"none !important",minHeight:21+(v-1)*21+10},"& .cm-line":{paddingLeft:0},"&:before":{left:0,right:0,bottom:0,content:'"\\00a0"',position:"absolute",borderBottom:`1px solid ${o?e.palette.error.main:e.palette.divider}`,pointerEvents:"none",...a?{borderBottomStyle:"dotted"}:{"&:hover:before":{borderWidth:2}}},"&:after":{borderBottom:`2px solid ${o?e.palette.error.main:e.palette.primary.main}`,left:0,right:0,bottom:0,content:'"\\00a0"',position:"absolute",transform:"scaleX(0)",transition:"transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",pointerEvents:"none",...a?{display:"none"}:{}},"&:focus-within:after":{transform:"scaleX(1) translateX(0)"}})}),p&&r.jsx(F,{error:o,children:p})]})});try{x.displayName="MarkdownField",x.__docgenInfo={description:"",displayName:"MarkdownField",props:{label:{defaultValue:null,description:"The label of the field",name:"label",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:"If `true`, the value will be shown as HTML",name:"readOnly",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"If `true`, the component is HTMLElement.",name:"disabled",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"Placeholder to be shown on empty field",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"If `true`, the Component element is required.",name:"required",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Show error state",name:"error",required:!1,type:{name:"boolean"}},helperText:{defaultValue:null,description:"The helper text content.",name:"helperText",required:!1,type:{name:"ReactNode"}},defaultValue:{defaultValue:null,description:"The default value of the field",name:"defaultValue",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"The Markdown value to be shown",name:"value",required:!1,type:{name:"string"}},margin:{defaultValue:{value:"none"},description:"Defined margin offset",name:"margin",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"normal"'}]}},minRows:{defaultValue:{value:"1"},description:"Defines minimum height of the field",name:"minRows",required:!1,type:{name:"number"}},onBlur:{defaultValue:null,description:"Callback fired when the Component is blurred. It returns Markdown.",name:"onBlur",required:!1,type:{name:"((value: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps"}},mdProps:{defaultValue:null,description:"The props for the markdown plugin",name:"mdProps",required:!1,type:{name:"MarkdownPluginProps"}}}}}catch{}export{x as M};
