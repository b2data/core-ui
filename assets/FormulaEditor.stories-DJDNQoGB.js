import{j as o,r as l}from"./iframe-Bt0NHjzt.js";import"./ru-CAlkaGv0.js";import{e as n,f as s}from"./ListNumberedIcon-BnyCaxUM.js";import{P as m}from"./Preview-D0D178Iw.js";import"./preload-helper-PPVm8Dsz.js";import"./DatePicker-BG65m1HK.js";import"./KeyboardArrowRight-CacwA6J6.js";import"./memoTheme-BgU4zM9I.js";import"./styled-BEaRT_Fa.js";import"./MenuItem-CjbaUP4J.js";import"./ListContext-CbahI33F.js";import"./generateUtilityClasses-DDbjFgb8.js";import"./generateUtilityClass-BtcU_pBl.js";import"./useForkRef-hJSLhPXd.js";import"./ButtonBase-CyUYjTfn.js";import"./useTimeout-KoRalZn8.js";import"./TransitionGroupContext-B0SjSjGE.js";import"./useEventCallback-DRFCyGqk.js";import"./isFocusVisible-B8k4qzLc.js";import"./listItemTextClasses-CiRxluPw.js";import"./createSvgIcon-BmHbKF__.js";import"./useThemeProps-Dw2wwzCj.js";import"./getThemeProps-BYWuq7AA.js";import"./useSlotProps-BJcXo2-m.js";import"./mergeSlotProps-CTGzhqDY.js";import"./isHostComponent-DVu5iVWx.js";import"./Typography-C-487Qlx.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./IconButton-CNheUIxq.js";import"./CircularProgress-CmZKsxNW.js";import"./useControlled-CipIMeEA.js";import"./MenuList-Bt7l0Gye.js";import"./getScrollbarSize-CaCM53D3.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./useFormControl-CrJJaZ8v.js";import"./visuallyHidden-Dan1xhjv.js";import"./TextField-XlNCdd5p.js";import"./useSlot-B6QK4qS-.js";import"./InputBase-Bv7eM5nS.js";import"./debounce-Be36O1Ab.js";import"./FormHelperText-UcvY9Cmh.js";import"./Menu-sG-3ifRZ.js";import"./Popover-B6iscEM3.js";import"./Grow-B4ACijKG.js";import"./useTheme-CJIytwIy.js";import"./utils-ByOi0em4.js";import"./index-Ypw_AV9V.js";import"./index-gtplWchC.js";import"./getReactElementRef-CjonG1mU.js";import"./mergeSlotProps-CoXSsvkz.js";import"./Modal-DoKZQW4X.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-DwdRdUOR.js";import"./Backdrop-D0NTvvjC.js";import"./Paper-DKuqXmbM.js";import"./isMuiElement-mcr7aDks.js";import"./Skeleton-BrODE6tX.js";import"./Popper-CWeedMjN.js";import"./Button-C5akElcv.js";import"./DialogActions-CTDUCIQQ.js";import"./ListItem-CQncx4D-.js";import"./listItemButtonClasses-CXNhffuE.js";import"./Chip-B4MlGWYj.js";import"./Dialog-C2ZVi1oX.js";import"./DialogContext-CGwQnJxu.js";import"./DialogContent-DkieYbwR.js";import"./dialogTitleClasses-Df1yqyCK.js";import"./Tab-BuhvfUgS.js";import"./FormHelperText-c-PmPdFk.js";import"./Box-CDPnqyyJ.js";import"./Alert-XYhqTMiI.js";import"./Close-BzuDRxKm.js";import"./Autocomplete-DfOloYj6.js";import"./Typography-D0JS2iMU.js";import"./ListItem-D_IbDIhi.js";import"./ListSubheader-BU1wollj.js";import"./IconButton-D5Gh2CxO.js";import"./ListItemAvatar-TDjQNRAM.js";import"./ListItemText-B-C50eDN.js";import"./Tooltip-C2Ih7DGb.js";import"./ListItemButton-DhLBmSRW.js";import"./Menu-DxqQmRlO.js";import"./MenuItem-CgK0E1tI.js";import"./Paper-BA0ib2RZ.js";import"./TextField-lt9rifhp.js";import"./CircularProgress-Ca20BDYH.js";import"./Avatar-IrxP2okY.js";import"./AvatarGroup-LAa3K5-K.js";import"./Backdrop-DOnkI2MV.js";import"./index-v6WlWadz.js";import"./index-D722bcqC.js";import"./styled-B9ZnSLBp.js";import"./FormControlLabel-ClMYsB8J.js";import"./Checkbox-B5IAUQr-.js";import"./LinearProgress-D7kdmpWb.js";import"./Switch-pBIYCnB9.js";import"./ClickAwayListener-BFTi1fF_.js";import"./Button-BOIAoTHC.js";import"./Link-Btg-nJUc.js";import"./Checkbox-BDk9Dh_X.js";import"./Divider-GnQJ-qEb.js";import"./ClickAwayListener-CGXoOppE.js";import"./Collapse-DgsoXwjW.js";import"./Collapse-DZY430ZD.js";import"./ConfirmationDialog-naTDkXPm.js";import"./Dialog-CGx-l4Jz.js";import"./DialogActions-BjQjV8F6.js";import"./DialogContent-C5W1g4e5.js";import"./DialogTitle-Cw9FmisA.js";import"./DataBlock-Br7-LhAK.js";import"./DropZone-BqC_XfHs.js";import"./Popover-DQjXG3Cp.js";import"./DateTimePicker-pi4wL96V.js";import"./Drawer-CQw0KUL-.js";import"./FormControlLabel-B0u_L4pT.js";import"./InputBase-2-Gk462K.js";import"./LinearProgress-DroHHLmw.js";import"./MarkdownContent-ClhS6_3B.js";import"./MarkdownField-C5rNr-Mh.js";import"./MenuList-Q36aJr5B.js";import"./Popper-BItm2AEx.js";import"./Portal-D6nLhHtV.js";import"./ProgressStatistic-D6djOj9-.js";import"./Radio-C9znsdAf.js";import"./RadioGroup-D4esTSvq.js";import"./Skeleton-DhboPfu-.js";import"./SkeletonGroup-BOnh9hOr.js";import"./Slider-peTPJgly.js";import"./SnackbarProvider-BNmj47j3.js";import"./SnackbarMessage-CvFypDRU.js";import"./Stepper-CA2mOnJd.js";import"./Switch-BDqmGQTe.js";import"./Tab-B4rfpFyf.js";import"./TimePicker-sW7g8pow.js";const zo={title:"Components/Formula Editor/Formula Editor",component:n,tags:["autodocs"]},i={args:{rows:[],onChange:console.log,isEditable:!0},render:r=>o.jsx(m,{children:o.jsx(n,{...r})})},e={args:{rows:[],isEditable:!0,onSearch:()=>Promise.resolve([{id:"Option 1",name:"Option 1",description:"Demo description"},{id:"Option 2",name:"Option 2",description:"Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 ",photo:"/favicon.svg"},{id:"Option 3",name:"Option 3"},{id:"Длина",name:"Длина",unit:"метр",systemUnit:"m",coeff:1},{id:"Дата производства",name:"Дата производства",unit:"день",systemUnit:"s",coeff:1440*60}])},render:r=>o.jsx(m,{children:o.jsx(n,{...r})})},t={args:{isEditable:!0,onSearch:r=>r.key==="field"?Promise.resolve([{id:"__PARENT__",name:"Родительская папка"},{id:"Type",name:"Тип"},{id:"Tag",name:"Тег"},{id:"Creator",name:"Создатель"}]):r.state.field?.id==="__PARENT__"?Promise.resolve([{id:"folder-1",name:"Папка 1"},{id:"folder-2",name:"Папка 2"},{id:"folder-3",name:"Папка 3"}]):r.state.field?.id==="Type"?Promise.resolve([{id:"type-1",name:"Тип 1"},{id:"type-2",name:"Тип 2"}]):r.state.field?.id==="Tag"?Promise.resolve([{id:"tag-1",name:"Тег 1"},{id:"tag-2",name:"Тег 2"}]):r.state.field?.id==="Creator"?Promise.resolve([{id:"user-1",name:"Пользователь 1"},{id:"user-2",name:"Пользователь 2"}]):Promise.resolve([])},render:r=>{const[a,d]=l.useState([{index:1,type:"text",field:{id:"__PARENT__",name:"Родительская папка"},operator:s.Equal,value:{id:"folder-1",name:"Папка 1"},disabled:!0},{index:2,type:"text",field:{id:"Type",name:"Тип"},operator:s.Equal}]);return o.jsx(m,{children:o.jsx(n,{...r,rows:a,onChange:p=>{console.log("Changed rows:",p),d(p)}})})}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  args: {
    rows: [],
    onChange: console.log,
    isEditable: true
  },
  render: props => <Preview>
      <FormulaEditor {...props} />
    </Preview>
}`,...i.parameters?.docs?.source}}};e.parameters={...e.parameters,docs:{...e.parameters?.docs,source:{originalSource:`{
  args: {
    rows: [],
    isEditable: true,
    onSearch: () => Promise.resolve([{
      id: "Option 1",
      name: "Option 1",
      description: "Demo description"
    }, {
      id: "Option 2",
      name: "Option 2",
      description: "Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 Demo description 2 ",
      photo: "/favicon.svg"
    }, {
      id: "Option 3",
      name: "Option 3"
    }, {
      id: "Длина",
      name: "Длина",
      unit: "метр",
      systemUnit: "m",
      coeff: 1
    }, {
      id: "Дата производства",
      name: "Дата производства",
      unit: "день",
      systemUnit: "s",
      coeff: 24 * 60 * 60
    }])
  },
  render: props => <Preview>
      <FormulaEditor {...props} />
    </Preview>
}`,...e.parameters?.docs?.source}}};t.parameters={...t.parameters,docs:{...t.parameters?.docs,source:{originalSource:`{
  args: {
    isEditable: true,
    onSearch: request => {
      if (request.key === "field") {
        return Promise.resolve([{
          id: "__PARENT__",
          name: "Родительская папка"
        }, {
          id: "Type",
          name: "Тип"
        }, {
          id: "Tag",
          name: "Тег"
        }, {
          id: "Creator",
          name: "Создатель"
        }]);
      }
      if (request.state.field?.id === "__PARENT__") {
        return Promise.resolve([{
          id: "folder-1",
          name: "Папка 1"
        }, {
          id: "folder-2",
          name: "Папка 2"
        }, {
          id: "folder-3",
          name: "Папка 3"
        }]);
      }
      if (request.state.field?.id === "Type") {
        return Promise.resolve([{
          id: "type-1",
          name: "Тип 1"
        }, {
          id: "type-2",
          name: "Тип 2"
        }]);
      }
      if (request.state.field?.id === "Tag") {
        return Promise.resolve([{
          id: "tag-1",
          name: "Тег 1"
        }, {
          id: "tag-2",
          name: "Тег 2"
        }]);
      }
      if (request.state.field?.id === "Creator") {
        return Promise.resolve([{
          id: "user-1",
          name: "Пользователь 1"
        }, {
          id: "user-2",
          name: "Пользователь 2"
        }]);
      }
      return Promise.resolve([]);
    }
  },
  render: props => {
    const [rows, setRows] = useState<FormulaRow[]>([{
      index: 1,
      type: "text",
      field: {
        id: "__PARENT__",
        name: "Родительская папка"
      },
      operator: FormulaOperator.Equal,
      value: {
        id: "folder-1",
        name: "Папка 1"
      },
      disabled: true
    }, {
      index: 2,
      type: "text",
      field: {
        id: "Type",
        name: "Тип"
      },
      operator: FormulaOperator.Equal
    }]);
    return <Preview>
        <FormulaEditor {...props} rows={rows} onChange={newRows => {
        console.log("Changed rows:", newRows);
        setRows(newRows);
      }} />
      </Preview>;
  }
}`,...t.parameters?.docs?.source}}};const Go=["Base","WithUnit","WithDisabledRow"];export{i as Base,t as WithDisabledRow,e as WithUnit,Go as __namedExportsOrder,zo as default};
