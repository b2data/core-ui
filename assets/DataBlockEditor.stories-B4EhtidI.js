import{r as k,j as r}from"./iframe-Bt0NHjzt.js";import{D as B,H as S}from"./DropZone-BqC_XfHs.js";import{p as N,a as u,W as I,b as E,u as l}from"./DataBlock-Br7-LhAK.js";import{c as x,H as h,T as L,d as s}from"./ListNumberedIcon-BnyCaxUM.js";import{L as P}from"./ListItem-D_IbDIhi.js";import{P as C}from"./Popper-BItm2AEx.js";import"./preload-helper-PPVm8Dsz.js";import"./Typography-D0JS2iMU.js";import"./Typography-C-487Qlx.js";import"./memoTheme-BgU4zM9I.js";import"./styled-BEaRT_Fa.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./generateUtilityClasses-DDbjFgb8.js";import"./generateUtilityClass-BtcU_pBl.js";import"./Box-CDPnqyyJ.js";import"./index-D722bcqC.js";import"./Alert-XYhqTMiI.js";import"./useSlot-B6QK4qS-.js";import"./mergeSlotProps-CTGzhqDY.js";import"./isHostComponent-DVu5iVWx.js";import"./useForkRef-hJSLhPXd.js";import"./createSvgIcon-BmHbKF__.js";import"./Close-BzuDRxKm.js";import"./IconButton-CNheUIxq.js";import"./ButtonBase-CyUYjTfn.js";import"./useTimeout-KoRalZn8.js";import"./TransitionGroupContext-B0SjSjGE.js";import"./useEventCallback-DRFCyGqk.js";import"./isFocusVisible-B8k4qzLc.js";import"./CircularProgress-CmZKsxNW.js";import"./Paper-DKuqXmbM.js";import"./useTheme-CJIytwIy.js";import"./Autocomplete-DfOloYj6.js";import"./Paper-BA0ib2RZ.js";import"./TextField-lt9rifhp.js";import"./TextField-XlNCdd5p.js";import"./useFormControl-CrJJaZ8v.js";import"./InputBase-Bv7eM5nS.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./debounce-Be36O1Ab.js";import"./FormHelperText-UcvY9Cmh.js";import"./Menu-sG-3ifRZ.js";import"./useSlotProps-BJcXo2-m.js";import"./Popover-B6iscEM3.js";import"./Grow-B4ACijKG.js";import"./utils-ByOi0em4.js";import"./index-Ypw_AV9V.js";import"./index-gtplWchC.js";import"./getReactElementRef-CjonG1mU.js";import"./mergeSlotProps-CoXSsvkz.js";import"./Modal-DoKZQW4X.js";import"./getScrollbarSize-CaCM53D3.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Portal-DwdRdUOR.js";import"./Backdrop-D0NTvvjC.js";import"./MenuList-Bt7l0Gye.js";import"./ListContext-CbahI33F.js";import"./useControlled-CipIMeEA.js";import"./isMuiElement-mcr7aDks.js";import"./CircularProgress-Ca20BDYH.js";import"./Popper-CWeedMjN.js";import"./Chip-B4MlGWYj.js";import"./ListSubheader-BU1wollj.js";import"./Avatar-IrxP2okY.js";import"./AvatarGroup-LAa3K5-K.js";import"./Backdrop-DOnkI2MV.js";import"./index-v6WlWadz.js";import"./KeyboardArrowRight-CacwA6J6.js";import"./MenuItem-CjbaUP4J.js";import"./listItemTextClasses-CiRxluPw.js";import"./styled-B9ZnSLBp.js";import"./FormControlLabel-ClMYsB8J.js";import"./Checkbox-B5IAUQr-.js";import"./ListItemText-B-C50eDN.js";import"./Tooltip-C2Ih7DGb.js";import"./LinearProgress-D7kdmpWb.js";import"./Button-C5akElcv.js";import"./Skeleton-BrODE6tX.js";import"./Switch-pBIYCnB9.js";import"./ClickAwayListener-BFTi1fF_.js";import"./getThemeProps-BYWuq7AA.js";import"./Button-BOIAoTHC.js";import"./Link-Btg-nJUc.js";import"./Checkbox-BDk9Dh_X.js";import"./Divider-GnQJ-qEb.js";import"./ClickAwayListener-CGXoOppE.js";import"./Collapse-DgsoXwjW.js";import"./Collapse-DZY430ZD.js";import"./ConfirmationDialog-naTDkXPm.js";import"./Dialog-CGx-l4Jz.js";import"./DialogActions-BjQjV8F6.js";import"./DialogActions-CTDUCIQQ.js";import"./DialogContent-C5W1g4e5.js";import"./DialogContent-DkieYbwR.js";import"./dialogTitleClasses-Df1yqyCK.js";import"./DialogTitle-Cw9FmisA.js";import"./DialogContext-CGwQnJxu.js";import"./Dialog-C2ZVi1oX.js";import"./IconButton-D5Gh2CxO.js";import"./Popover-DQjXG3Cp.js";import"./DatePicker-BG65m1HK.js";import"./useThemeProps-Dw2wwzCj.js";import"./visuallyHidden-Dan1xhjv.js";import"./ListItem-CQncx4D-.js";import"./listItemButtonClasses-CXNhffuE.js";import"./Tab-BuhvfUgS.js";import"./FormHelperText-c-PmPdFk.js";import"./DateTimePicker-pi4wL96V.js";import"./Drawer-CQw0KUL-.js";import"./FormControlLabel-B0u_L4pT.js";import"./InputBase-2-Gk462K.js";import"./LinearProgress-DroHHLmw.js";import"./ListItemAvatar-TDjQNRAM.js";import"./ListItemButton-DhLBmSRW.js";import"./MarkdownContent-ClhS6_3B.js";import"./MarkdownField-C5rNr-Mh.js";import"./Menu-DxqQmRlO.js";import"./MenuItem-CgK0E1tI.js";import"./MenuList-Q36aJr5B.js";import"./Portal-D6nLhHtV.js";import"./ProgressStatistic-D6djOj9-.js";import"./Radio-C9znsdAf.js";import"./RadioGroup-D4esTSvq.js";import"./Skeleton-DhboPfu-.js";import"./SkeletonGroup-BOnh9hOr.js";import"./Slider-peTPJgly.js";import"./SnackbarProvider-BNmj47j3.js";import"./SnackbarMessage-CvFypDRU.js";import"./Stepper-CA2mOnJd.js";import"./Switch-BDqmGQTe.js";import"./Tab-B4rfpFyf.js";import"./TimePicker-sW7g8pow.js";const an={title:"Components/Data Block/Data Block Editor",component:x,tags:["autodocs"]},c={id:"user1",avatar:"",firstName:"Demo ",lastName:"user",middleName:""},T=Array.from(new Array(10)).map(()=>({id:l(),type:"text",offset:0,hidePrefix:!1,variants:[{id:l(),data:{text:"Hello, World!"},isCurrent:!0,votes:[],createdBy:"user1",createdByData:c},{id:l(),data:{text:"Hello, World!"},isCurrent:!1,votes:[],createdBy:"user2",createdByData:{id:"user2",avatar:"",firstName:"Maria",lastName:"",middleName:""}}]})),f={args:{editable:!0,currentUser:c,tools:{},blocks:[{id:"0",type:"text",offset:0,hidePrefix:!1,variants:[{id:"11",data:{text:"Some text is here and link to image ![[ChatGPT Image.png#1|56f2fb22-2ed7-4d77-b4fa-8fab55c90d93#6cac5fb7-5416-4749-9ada-0c4920aa01df|700]] And video ![[test video.mov#1|486503f6-35e9-4865-970f-a211ec242527#0fd10b4d-cebe-4bbd-81da-64d8c1b222a5]] And PDF: ![[app.pdf#1|486503f6-35e9-4865-970f-a211ec242527#0fd10b4d-cebe-4bbd-81da-64d8c1b222a5]]"},isCurrent:!0,votes:[],createdBy:"user1",createdByData:{id:"user1",avatar:"",firstName:"John 1",lastName:"",middleName:""}}]},{id:"1",type:"text",offset:0,hidePrefix:!1,variants:[{id:"11",data:{text:`> [!sign]
> 1. @User 1#Space 1|0:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef#a41b8b6c-c75f-4ee3-9c19-1d41dc157f96
> 2. @User 2#Space 1|-1:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef#12979c75-d5b9-4759-9060-b7a41dc76ea8`},isCurrent:!0,votes:[],createdBy:"user1",createdByData:{id:"user1",avatar:"",firstName:"John 1",lastName:"",middleName:""}},{id:"12",data:{text:"Hello, World!"},isCurrent:!1,votes:[],createdBy:"user2",createdByData:{id:"user2",avatar:"",firstName:"Maria",lastName:"",middleName:""}}]},{id:"2",type:"header",offset:0,hidePrefix:!1,variants:[{id:"22",data:{text:"```js \nconst a = 1;\n```"},isCurrent:!0,votes:[],createdBy:"user1",createdByData:{id:"user1",avatar:"",firstName:"John 1",lastName:"",middleName:""}}]},{id:"3",type:"text",offset:0,hidePrefix:!1,variants:[{id:"22",data:{text:`[Duck Duck Go](https://duckduckgo.com "The best search engine for privacy") Strange idea! @nice|shot|good@. Really?

@nice|123|https://market.b2p.space/api/files/8646013d-5a03-4a9a-a0eb-da774adc0b95@

@nice|123|@

@nice@ test me

[[ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° ÐºÐ¾Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¸Ð²Ð°_v2_Ð¿.2.1|123_345_566]]`},isCurrent:!0,votes:[],createdBy:"user1",createdByData:{id:"user1",avatar:"",firstName:"John 1",lastName:"",middleName:""}}]},{id:"4",type:"heading",offset:0,hidePrefix:!1,variants:[{id:"22",data:{text:"## Heading 2",level:2},isCurrent:!0,votes:[],createdBy:"user3",createdByData:{id:"user3",avatar:"",firstName:"John",lastName:"",middleName:""}}]},{id:"5",type:"text",offset:0,hidePrefix:!1,variants:[{id:"22",data:{text:"Monday **10**. ==Nice shot and the **shot** is good!== How are you? Nice ==day"},isCurrent:!0,votes:[],createdBy:"user1",createdByData:{id:"user3",avatar:"",firstName:"John",lastName:"",middleName:""}}]},...T]},render:g=>{const o=k.useRef(null),[v,D]=k.useState(null),y=({action:e,data:t})=>{setTimeout(()=>{switch(e){case s.AddBlock:o.current?.updateData({action:e,data:{index:t.index,blocks:t.blocks.map(n=>({...n,variants:n.variants.map(i=>({...i,createdByData:c,votes:[]}))}))}});break;case s.EditBlock:o.current?.updateData({action:e,data:{block:{...t.block,variants:t.variant?[{...t.variant,createdByData:c,votes:[]}]:[]},variant:{...t.variant,createdByData:c,votes:[]}}});break;case s.DeleteBlock:o.current?.updateData({action:e,data:{blockId:t.blockId}});break;case s.MoveBlock:o.current?.updateData({action:e,data:{blockId:t.blockId,targetIndex:t.targetIndex}});break;case s.AddVariant:o.current?.updateData({action:e,data:{blockId:t.blockId,variant:{...t.variant,createdByData:c,votes:[]}}});break;case s.EditVariant:o.current?.updateData({action:e,data:{blockId:t.blockId,variant:{...t.variant,createdByData:c,votes:[]}}});break;case s.DeleteVariant:o.current?.updateData({action:e,data:{blockId:t.blockId,variantId:t.variantId}});break}},1e3)};return r.jsx("div",{style:{background:"#f9f9f9",margin:"-40px -30px",padding:"40px 30px",height:500,overflowY:"auto"},children:r.jsx(B,{backend:S,children:r.jsx(x,{...g,ref:o,onChange:y,tools:{text:{title:"Text",icon:L,shortcut:["CMD"]},heading:{title:"Header",defaultValue:"# ",icon:h,renderMenu:({variant:e})=>r.jsxs(r.Fragment,{children:[r.jsx(P,{asButton:!0,icon:r.jsx(h,{}),onClick:t=>D(t.currentTarget),text:r.jsxs(r.Fragment,{children:["Header ",e.data.text.split(" ")[0].length]})}),r.jsx(C,{open:!!v,anchorEl:v,children:"TODO SELECT HEADER LEVEL"})]})},sign:{title:"Signature",icon:h,defaultValue:`> [!sign]
> 1. `,renderMenu:()=>r.jsx(r.Fragment,{children:"TODO"})}},mdProps:{onSearchMentions:async({query:e=""})=>new Promise(t=>{setTimeout(()=>{t([{name:"User 1",detailId:l(),detailLabel:"Space 1",id:"0:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"},{name:"User 2",detailId:l(),detailLabel:"Space 1",id:"-1:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"}].filter(n=>e?n.name.indexOf(e)>-1:!0))},1e3)}),resolveReferenceUrl:({versionId:e})=>e?`https://localhost:8080/documents/files/${e}`:"",onSearchReference:async({query:e=""})=>new Promise(t=>{setTimeout(()=>{t([{label:"ChatGPT Image.png",id:"56f2fb22-2ed7-4d77-b4fa-8fab55c90d93",preselectLabel:"1",preselectId:"6cac5fb7-5416-4749-9ada-0c4920aa01df"},{label:"Doc 1",id:l()},{label:"Doc 2",id:l()}].filter(n=>e?n.label.indexOf(e)>-1:!0))},1e3)}),decorations:[({node:e,append:t,selection:n,view:i})=>{if(e.name==="Signature"){const{state:d,hasFocus:b}=i,p=e&&n.from>=e.from&&n.to<=e.to&&!d.readOnly&&b,a=e.node.cursor();if(a.firstChild()){t(u.line({class:`cm-blockquote${p?" cm-blockquote-indent":""}`}).range(a.from)),t(p?u.mark({class:`cm-blockquote-mark${p?"":" cm-formatting"}`}).range(a.from,a.from+2):u.replace({widget:new class extends I{toDOM(){const m=document.createElement("span");return m.textContent="ðŸ–Š ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ð½Ñ‚Ñ‹",m.style.fontSize="1.2rem",m}}}).range(a.from,a.to)),a.nextSibling();do if(a.name==="SignatureLine"){t(u.line({class:`cm-blockquote${p?" cm-blockquote-indent":""}`}).range(a.from)),t(u.mark({class:`cm-blockquote-mark${p?"":" cm-formatting"}`}).range(a.from,a.from+2));const m=a.node.cursor();m.firstChild()&&E({node:m.node,append:t,selection:n,view:i})}while(a.nextSibling())}return!1}}],parsers:[{defineNodes:[{name:"Signature"},{name:"SignatureLine"}],parseBlock:[{name:"Signature",endLeaf(e,t){return t.text.slice(t.pos).trim().startsWith("> ")},parse:(e,t)=>{if(!t.text.startsWith("> [!sign]"))return!1;const n=[];n.push(e.elt("SignatureLine",e.lineStart,e.lineStart+t.text.length));let i=e.peekLine();for(;e.nextLine();){if(!i.startsWith("> ")){e.nextLine();break}const d=i.indexOf("@")>-1?N(e.elt.bind(e),i.indexOf("@")+1,i,e.lineStart):null,b=d?[e.elt("MentionData",d[0].from,d[d.length-1].to,d)]:void 0;n.push(e.elt("SignatureLine",e.lineStart,e.lineStart+i.length,b)),i=e.peekLine()}return e.addElement(e.elt("Signature",n[0]?.from,n[n.length-1].to,n)),!1},before:"Blockquote"}]}]}})})})}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  args: {
    editable: true,
    currentUser: createdByData,
    tools: {},
    blocks: [{
      id: "0",
      type: "text",
      offset: 0,
      hidePrefix: false,
      variants: [{
        id: "11",
        data: {
          text: "Some text is here and link to image ![[ChatGPT Image.png#1|56f2fb22-2ed7-4d77-b4fa-8fab55c90d93#6cac5fb7-5416-4749-9ada-0c4920aa01df|700]] And video ![[test video.mov#1|486503f6-35e9-4865-970f-a211ec242527#0fd10b4d-cebe-4bbd-81da-64d8c1b222a5]] And PDF: ![[app.pdf#1|486503f6-35e9-4865-970f-a211ec242527#0fd10b4d-cebe-4bbd-81da-64d8c1b222a5]]"
        },
        isCurrent: true,
        votes: [],
        createdBy: "user1",
        createdByData: {
          id: "user1",
          avatar: "",
          firstName: "John 1",
          lastName: "",
          middleName: ""
        }
      }]
    }, {
      id: "1",
      type: "text",
      offset: 0,
      hidePrefix: false,
      variants: [{
        id: "11",
        data: {
          text: "> [!sign]\\n> 1. @User 1#Space 1|0:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef#a41b8b6c-c75f-4ee3-9c19-1d41dc157f96\\n> 2. @User 2#Space 1|-1:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef#12979c75-d5b9-4759-9060-b7a41dc76ea8"
        },
        isCurrent: true,
        votes: [],
        createdBy: "user1",
        createdByData: {
          id: "user1",
          avatar: "",
          firstName: "John 1",
          lastName: "",
          middleName: ""
        }
      }, {
        id: "12",
        data: {
          text: "Hello, World!"
        },
        isCurrent: false,
        votes: [],
        createdBy: "user2",
        createdByData: {
          id: "user2",
          avatar: "",
          firstName: "Maria",
          lastName: "",
          middleName: ""
        }
      }]
    }, {
      id: "2",
      type: "header",
      offset: 0,
      hidePrefix: false,
      variants: [{
        id: "22",
        data: {
          text: "\`\`\`js \\nconst a = 1;\\n\`\`\`"
        },
        isCurrent: true,
        votes: [],
        createdBy: "user1",
        createdByData: {
          id: "user1",
          avatar: "",
          firstName: "John 1",
          lastName: "",
          middleName: ""
        }
      }]
    }, {
      id: "3",
      type: "text",
      offset: 0,
      hidePrefix: false,
      variants: [{
        id: "22",
        data: {
          text: '[Duck Duck Go](https://duckduckgo.com "The best search engine for privacy") Strange idea! @nice|shot|good@. Really?\\n\\n' + "@nice|123|https://market.b2p.space/api/files/8646013d-5a03-4a9a-a0eb-da774adc0b95@\\n\\n@nice|123|@\\n\\n@nice@ test me\\n\\n" + "[[ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° ÐºÐ¾Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¸Ð²Ð°_v2_Ð¿.2.1|123_345_566]]"
        },
        isCurrent: true,
        votes: [],
        createdBy: "user1",
        createdByData: {
          id: "user1",
          avatar: "",
          firstName: "John 1",
          lastName: "",
          middleName: ""
        }
      }]
    }, {
      id: "4",
      type: "heading",
      offset: 0,
      hidePrefix: false,
      variants: [{
        id: "22",
        data: {
          text: "## Heading 2",
          level: 2
        },
        isCurrent: true,
        votes: [],
        createdBy: "user3",
        createdByData: {
          id: "user3",
          avatar: "",
          firstName: "John",
          lastName: "",
          middleName: ""
        }
      }]
    }, {
      id: "5",
      type: "text",
      offset: 0,
      hidePrefix: false,
      variants: [{
        id: "22",
        data: {
          text: "Monday **10**. ==Nice shot and the **shot** is good!== How are you? Nice ==day"
        },
        isCurrent: true,
        votes: [],
        createdBy: "user1",
        createdByData: {
          id: "user3",
          avatar: "",
          firstName: "John",
          lastName: "",
          middleName: ""
        }
      }]
    }, ...def]
  },
  render: props => {
    const ref = useRef<DataBlockEditorApi>(null);
    const [headEl, setHeadEl] = useState<HTMLElement | null>(null);
    const handleChange = ({
      action,
      data
    }: SendDataBlockEditorUpdates) => {
      setTimeout(() => {
        switch (action) {
          case DataBlockEditorPublicAction.AddBlock:
            ref.current?.updateData({
              action,
              data: {
                index: data.index,
                blocks: data.blocks.map(b => ({
                  ...b,
                  variants: b.variants.map(v => ({
                    ...v,
                    createdByData,
                    votes: []
                  }))
                }))
              }
            });
            break;
          case DataBlockEditorPublicAction.EditBlock:
            ref.current?.updateData({
              action,
              data: {
                block: {
                  ...data.block,
                  variants: data.variant ? [{
                    ...data.variant,
                    createdByData,
                    votes: []
                  }] : []
                },
                variant: {
                  ...data.variant,
                  createdByData,
                  votes: []
                }
              }
            });
            break;
          case DataBlockEditorPublicAction.DeleteBlock:
            ref.current?.updateData({
              action,
              data: {
                blockId: data.blockId
              }
            });
            break;
          case DataBlockEditorPublicAction.MoveBlock:
            ref.current?.updateData({
              action,
              data: {
                blockId: data.blockId,
                targetIndex: data.targetIndex
              }
            });
            break;
          case DataBlockEditorPublicAction.AddVariant:
            ref.current?.updateData({
              action,
              data: {
                blockId: data.blockId,
                variant: {
                  ...data.variant,
                  createdByData,
                  votes: []
                }
              }
            });
            break;
          case DataBlockEditorPublicAction.EditVariant:
            ref.current?.updateData({
              action,
              data: {
                blockId: data.blockId,
                variant: {
                  ...data.variant,
                  createdByData,
                  votes: []
                }
              }
            });
            break;
          case DataBlockEditorPublicAction.DeleteVariant:
            ref.current?.updateData({
              action,
              data: {
                blockId: data.blockId,
                variantId: data.variantId
              }
            });
            break;
        }
      }, 1000);
    };
    return <div style={{
      background: "#f9f9f9",
      margin: "-40px -30px",
      padding: "40px 30px",
      height: 500,
      overflowY: "auto"
    }}>
        <DndProvider backend={HTML5Backend}>
          <DataBlockEditor {...props} ref={ref} onChange={handleChange} tools={{
          text: {
            title: "Text",
            icon: TextIcon,
            shortcut: ["CMD"]
          },
          heading: {
            title: "Header",
            defaultValue: "# ",
            icon: HeadingIcon,
            renderMenu: ({
              variant
            }) => <>
                    <ListItem asButton icon={<HeadingIcon />} onClick={e => setHeadEl(e.currentTarget)} text={<>Header {variant.data.text.split(" ")[0].length}</>} />
                    <Popper open={Boolean(headEl)} anchorEl={headEl}>
                      TODO SELECT HEADER LEVEL
                    </Popper>
                  </>
          },
          sign: {
            title: "Signature",
            icon: HeadingIcon,
            defaultValue: "> [!sign]\\n> 1. ",
            renderMenu: () => <>TODO</>
          }
        }} mdProps={{
          onSearchMentions: async ({
            query = ""
          }) => {
            return new Promise(resolve => {
              setTimeout(() => {
                resolve([{
                  name: \`User 1\`,
                  detailId: uuid(),
                  detailLabel: "Space 1",
                  id: "0:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"
                }, {
                  name: \`User 2\`,
                  detailId: uuid(),
                  detailLabel: "Space 1",
                  id: "-1:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"
                }].filter(o => !query ? true : o.name.indexOf(query) > -1));
              }, 1000);
            });
          },
          resolveReferenceUrl: ({
            versionId
          }) => versionId ? \`https://localhost:8080/documents/files/\${versionId}\` : "",
          onSearchReference: async ({
            query = ""
          }) => {
            return new Promise(resolve => {
              setTimeout(() => {
                resolve([{
                  label: "ChatGPT Image.png",
                  id: "56f2fb22-2ed7-4d77-b4fa-8fab55c90d93",
                  preselectLabel: "1",
                  preselectId: "6cac5fb7-5416-4749-9ada-0c4920aa01df"
                }, {
                  label: \`Doc 1\`,
                  id: uuid()
                }, {
                  label: \`Doc 2\`,
                  id: uuid()
                }].filter(o => !query ? true : o.label.indexOf(query) > -1));
              }, 1000);
            });
          },
          decorations: [({
            node,
            append,
            selection,
            view
          }) => {
            if (node.name === "Signature") {
              const {
                state,
                hasFocus
              } = view;
              const isActive = node && selection.from >= node.from && selection.to <= node.to && !state.readOnly && hasFocus;
              const cursor = node.node.cursor();
              if (cursor.firstChild()) {
                append(Decoration.line({
                  class: \`cm-blockquote\${isActive ? " cm-blockquote-indent" : ""}\`
                }).range(cursor.from));
                if (!isActive) {
                  append(Decoration.replace({
                    widget: new class extends WidgetType {
                      toDOM() {
                        const span = document.createElement("span");
                        span.textContent = "ðŸ–Š ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ð½Ñ‚Ñ‹";
                        span.style.fontSize = "1.2rem";
                        return span;
                      }
                    }()
                  }).range(cursor.from, cursor.to));
                } else {
                  append(Decoration.mark({
                    class: \`cm-blockquote-mark\${!isActive ? " cm-formatting" : ""}\`
                  }).range(cursor.from, cursor.from + 2));
                }
                cursor.nextSibling();
                do {
                  if (cursor.name === "SignatureLine") {
                    append(Decoration.line({
                      class: \`cm-blockquote\${isActive ? " cm-blockquote-indent" : ""}\`
                    }).range(cursor.from));
                    append(Decoration.mark({
                      class: \`cm-blockquote-mark\${!isActive ? " cm-formatting" : ""}\`
                    }).range(cursor.from, cursor.from + 2));
                    const mention = cursor.node.cursor();
                    if (mention.firstChild()) {
                      processMentionDecoration({
                        node: mention.node,
                        append,
                        selection,
                        view
                      });
                    }
                  }

                  // process each immediate child of the CodeBlock node
                } while (cursor.nextSibling());
              }
              return false;
            }
          }],
          parsers: [{
            defineNodes: [{
              name: "Signature"
            }, {
              name: "SignatureLine"
            }],
            parseBlock: [{
              name: "Signature",
              endLeaf(_, line) {
                return line.text.slice(line.pos).trim().startsWith("> ");
              },
              parse: (cx, line) => {
                if (!line.text.startsWith("> [!sign]")) {
                  return false;
                }
                const children: MdElement[] = [];
                children.push(cx.elt("SignatureLine", cx.lineStart, cx.lineStart + line.text.length));
                let nextLine = cx.peekLine();
                while (cx.nextLine()) {
                  if (!nextLine.startsWith("> ")) {
                    cx.nextLine();
                    break;
                  }
                  const userData = nextLine.indexOf("@") > -1 ? parseInlineMention(cx.elt.bind(cx), nextLine.indexOf("@") + 1, nextLine, cx.lineStart) : null;
                  const child = userData ? [cx.elt("MentionData", userData[0].from, userData[userData.length - 1].to, userData)] : undefined;
                  children.push(cx.elt("SignatureLine", cx.lineStart, cx.lineStart + nextLine.length, child));
                  nextLine = cx.peekLine();
                }
                cx.addElement(cx.elt("Signature", children[0]?.from, children[children.length - 1].to, children));
                return false;
              },
              before: "Blockquote"
            }]
          }]
        }} />
        </DndProvider>
      </div>;
  }
}`,...f.parameters?.docs?.source}}};const rn=["Base"];export{f as Base,rn as __namedExportsOrder,an as default};
